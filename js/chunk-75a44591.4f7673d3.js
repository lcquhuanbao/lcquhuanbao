(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75a44591"],{16878:function(t,s,a){"use strict";var e=a("7a0e"),i=a.n(e);i.a},"5a47":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"con_bg"},[a("van-nav-bar",{staticClass:"navbar",attrs:{title:"修改支付密码","left-text":"","left-arrow":""},on:{"click-left":t.toBack}}),a("form",[a("div",{staticClass:"cu-form-group margin-top"},[a("div",{staticClass:"title"},[t._v("支付密码")]),a("van-cell-group",{attrs:{border:!1}},[a("van-field",{attrs:{type:"password",placeholder:"请输入支付密码",clearable:""},model:{value:t.newpassword,callback:function(s){t.newpassword=s},expression:"newpassword"}})],1)],1),a("div",{staticClass:"cu-form-group"},[a("div",{staticClass:"title"},[t._v("确认密码")]),a("van-cell-group",{staticClass:"fx_2",attrs:{border:!1}},[a("van-field",{attrs:{type:"password",placeholder:"确认新支付密码",clearable:""},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)],1),a("div",{staticClass:"cu-form-group"},[a("div",{staticClass:"title"},[t._v("手机号")]),a("van-cell-group",{staticClass:"fx_2",attrs:{border:!1}},[a("van-field",{attrs:{type:"text",disabled:t.tel,placeholder:"点击获取验证码",clearable:""},model:{value:t.tel,callback:function(s){t.tel=s},expression:"tel"}})],1),"60"==t.num?a("div",{staticClass:"cu-btn bg-green shadow f_r icon_f_r",on:{click:t.sendcode}},[t._v(t._s(t.text))]):"60"!=t.num?a("div",{staticClass:"cu-btn bg-green shadow f_r icon_f_r",staticStyle:{background:"#ddd !important"}},[t._v(t._s(t.text))]):t._e()],1),t.config.sms&&"1"==t.config.sms.zfmmdxyz?a("div",{staticClass:"cu-form-group"},[a("div",{staticClass:"title"},[t._v("验证码")]),a("van-cell-group",{staticClass:"fx_2",attrs:{border:!1}},[a("van-field",{attrs:{type:"number",placeholder:"请输入验证码",clearable:""},model:{value:t.code,callback:function(s){t.code=s},expression:"code"}})],1)],1):t._e(),t._m(0),a("div",{staticClass:"padding"},[a("div",{staticClass:"cu-btn bg-gradual-orange block but margin-tb-sm lg",on:{click:t.subInfo}},[t._v("确定")])])])],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cu-form-group tishi"},[a("div",{staticClass:"title"},[t._v("密码必须八个字符，且同是包含字母和数字")])])}],o=a("9523"),r=a.n(o),n=(a("be7f"),a("565f")),c={name:"myprofit",components:r()({},n["a"].name,n["a"]),data:function(){return{index:-1,imgList:[],tel:this.$store.state.user.tel,rex:/^1([38]\d|5[0-35-9]|7[3678])\d{8}$/,pas:/^[a-zA-Z0-9]{6,15}$/,wyz:"",password:"",newpassword:"",code:"",loadModal:!1,text:"发送验证码",modalName:"",num:60,quhao:this.$store.state.user.quhao,isguolei:"0",config:{sms:{zfmmdxyz:"1"}}}},methods:{sendcode:function(){var t=this,s=this;this.$api.getUser.sendCode({tel:this.tel,quhao:this.quhao}).then(function(a){if(200===a.code){t.$toast.success("发送成功"),t.wyz=a.result;var e=setInterval(function(){s.num<=0?(clearInterval(e),s.text="发送验证码",s.num=60):(s.num--,s.text="（"+s.num+"）秒")},1e3)}})},subInfo:function(){var t=this;if(""==this.password)return this.$toast.fail("密码不能为空"),!1;if(!this.$fnc.regexp(this.pas,this.password))return this.$toast.fail("密码非法,请从新输入"),!1;if(this.newpassword!=this.password)return this.$toast.fail("两次输入的不一致,请从新输入"),!1;var s={};s.pay_password=this.$getCode(this.password),s.code=this.code,s.unicode=this.wyz,s.tel=this.tel,s.quhao=this.quhao,this.$api.getSetting.changePayPassword(s).then(function(s){200==s.code&&(t.$toast.success("操作成功"),setTimeout(function(){t.$store.dispatch("getUser"),t.toBack()},3e3))})}}},l=c,d=(a("16878"),a("2877")),u=Object(d["a"])(l,e,i,!1,null,"c2a7bc48",null);s["default"]=u.exports},"7a0e":function(t,s,a){}}]);