(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13c9ea14"],{"05f3":function(t,e,i){t.exports=i.p+"img/bm.b19f17cd.png"},"15e3":function(t,e,i){t.exports=i.p+"img/sex1.6e933076.png"},"1de1":function(t,e,i){"use strict";var n=i("e582"),r=i.n(n);r.a},"1e0a":function(t,e,i){t.exports=i.p+"img/nan.32ed0536.png"},"3ddf":function(t,e,i){"use strict";i.r(e);var n,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bgwrite",staticStyle:{height:"100%"}},[n("van-nav-bar",{staticClass:"navbar",attrs:{title:"我的资料","left-text":"","left-arrow":""},on:{"click-left":t.toBack}}),n("div",{staticClass:"my_title"},[t._v("完善资料获取"+t._s(t.iden)+"积分")]),n("div",{staticClass:"cu-form-group",staticStyle:{"justify-content":"space-around",border:"none"}},[n("div",{staticClass:"grid col-4 grid-square flex-sub"},[n("div",{staticClass:"avter_infos"},[n("crop",{staticClass:"acter_img",attrs:{imgUrl:t.$fnc.getImgUrl(t.avatar,"sex")||(2==t.info.sex?i("d750"):i("15e3"))},on:{callback:t.getUrl}})],1)])]),n("div",{staticClass:"avter_text"},[t._v("拍照上传您的社交头像")]),n("div",{staticClass:"avter_con"},[n("div",{staticClass:"avter_input"},[n("div",{staticClass:"avter_input_title"},[t._v("昵称")]),n("div",{staticClass:"avter_input_input_ti"},[n("van-cell-group",{attrs:{border:!1}},[n("van-field",{staticClass:"input_vant",attrs:{type:"text",placeholder:"昵称最多六个中文",clearable:""},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1)],1),n("div",{staticClass:"avter_input_title"},[t._v("性别")]),n("div",{staticClass:"radio_con"},[n("div",{staticClass:"radio_info"},[n("img",{attrs:{src:"2"==t.sex?i("c0a3"):i("db8e")},on:{click:function(e){return t.chackSex("2")}}}),n("div",{staticClass:"radio_info_xb"},[t._v("女")])]),n("div",{staticClass:"radio_info"},[n("img",{attrs:{src:"1"==t.sex?i("6ffb"):i("1e0a")},on:{click:function(e){return t.chackSex("1")}}}),n("div",{staticClass:"radio_info_xb"},[t._v("男")])]),n("div",{staticClass:"radio_info"},[n("img",{attrs:{src:"0"==t.sex?i("a018"):i("05f3")},on:{click:function(e){return t.chackSex("0")}}}),n("div",{staticClass:"radio_info_xb"},[t._v("默认")])])])])]),n("div",{staticClass:"padding",staticStyle:{padding:"0 15px"}},[n("van-button",{staticClass:"but",attrs:{type:"primary",size:"large"},on:{click:t.addDizhi}},[t._v("提交")])],1)],1)},a=[],o=i("9523"),s=i.n(o),c=(i("be7f"),i("565f")),h=i("bc3a"),l=i.n(h),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"uppic"}},[t._t("default"),i("input",{ref:"file",staticClass:"file",attrs:{type:"file",accept:"image/*"},on:{change:t.getsrc}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isuppicBox,expression:"isuppicBox"}],ref:"uppicBox",attrs:{id:"uppicBox"}},[i("div",{staticClass:"imageBox"},[i("img",{ref:"picImg",style:{transform:"translate3d("+t.transform.x+"px,"+t.transform.y+"px,0px) scale("+t.transform.scale+","+t.transform.scale+")",transition:"transform "+t.duration+"ms",width:t.img.w+"px",height:t.img.h+"px","margin-left":t.img.w/-2+"px","margin-top":t.img.h/-2+"px"},attrs:{id:"pic-img",src:t.img.src}}),i("div",{ref:"thumbBox",staticClass:"thumbBox box",class:{bgshadow:t.isbg},style:{width:t.Cwidth+"px",height:t.Cheight+"px","margin-left":0-t.Cwidth/2+"px","margin-top":0-t.Cheight/2+"px"}},[i("div",{staticClass:"angle1"}),i("div",{staticClass:"angle2"}),i("div",{staticClass:"angle3"}),i("div",{staticClass:"angle4"}),i("div",{staticClass:"line1"}),i("div",{staticClass:"line2"}),i("div",{staticClass:"line3"}),i("div",{staticClass:"line4"})])]),i("div",{staticClass:"bottom",on:{click:function(t){t.stopPropagation()}}},[i("span",{on:{click:t.cancel}},[t._v("取消")]),i("span",{staticClass:"fr",on:{click:t.clip}},[t._v("选取")])])])],2)},d=[],p=(i("f13a"),i("c8b5")),f=i.n(p),g={name:"Uppic",data:function(){return{transform:{scale:1,x:0,y:0},isuppicBox:!1,isbg:!1,duration:0,Cwidth:0,Cheight:0,img:{Yh:0,Yw:0,h:0,w:0,src:"",Orientation:1},x:0,y:0,initScale:0}},props:{callback:Function,width:{type:Number,default:200,validator:function(t){return 0!=t}},height:{type:Number,default:200},data:{type:Object,default:function(){return{}}}},methods:{fileclick:function(){this.$refs.file.click()},getsrc:function(t){var e=this,i=t.target.files[0],n=new FileReader;n.onloadend=function(t){e.img.src=t.target.result,e.$refs.picImg.onload=e.init},n.readAsDataURL(i)},init:function(t){var e=this;e.isuppicBox=!0;var i=e.$refs.picImg;e.img.Yw=i.naturalWidth,e.img.Yh=i.naturalHeight,EXIF.getData(i,function(){e.img.Orientation=EXIF.getTag(this,"Orientation")||1,e.sizeimg()}),document.body.onresize=e.sizeimg;var n=new f.a.Manager(this.$refs.uppicBox);n.add(new f.a.Pan({threshold:0,pointers:0})),n.add(new f.a.Pinch({threshold:0})).recognizeWith(n.get("pan")),n.add(new f.a.Tap({event:"doubletap",taps:2})),n.add(new f.a.Tap),n.on("doubletap",e.doubletap),n.on("pinchstart pinchmove",e.pinchin),n.on("panstart panmove",e.Pan),n.on("panend",e.panend)},sizeimg:function(){var t,e,i=this,n=document.body.clientWidth,r=document.body.clientHeight,a=i.img.Yh,o=i.img.Yw;n*i.height<r*i.width?(t=n-40,e=t/i.width*i.height):(e=r-40,t=e/i.height*i.width),this.Cwidth=t,this.Cheight=e,o*e<a*t?(i.img.w=t,i.img.h="iphone"==this.browser()?o*t/a:a*t/o):(i.img.h=e,i.img.w="iphone"==this.browser()?a*e/o:o*e/a)},touchTU:function(t){},doubletap:function(t){var e=this.transform["scale"];e<4&&(this.transform["scale"]=1.4*e)},pinchin:function(t){"pinchstart"==t.type&&(this.initScale=this.transform.scale||1);var e=this.initScale*t.scale;e<4&&(this.transform.scale=e)},Pan:function(t){"panstart"==t.type&&(this.x=this.transform["x"]||0,this.y=this.transform["y"]||0),this.transform.x=this.x+t.deltaX,this.transform.y=this.y+t.deltaY,this.isbg=!0},panend:function(){var t=this,e=this.transform.scale,i=this.transform.x,n=this.transform.y,r=this.img.w*e,a=this.img.h*e,o=this.Cwidth,s=this.Cheight,c=(r-o)/2,h=(o-r)/2,l=(a-s)/2,u=(s-a)/2;e<1?(e=1,a>r?i=0:n=0):(i>c?i=c:i<h&&(i=h),n>l?n=l:n<u&&(n=u)),this.duration=300,this.transform.scale=e,this.transform.x=i,this.transform.y=n,setTimeout(function(){t.isbg=!1,t.duration=0},300)},cancel:function(){this.isuppicBox=!1,this.img.src="",this.transform={scale:1,x:0,y:0},this.$refs.file.value=""},clip:function(){var t,e=this,i=e.$refs.picImg,n=document.createElement("canvas"),r=n.getContext("2d"),a=this.transform.scale,o=this.transform.x,s=this.transform.y,c=(this.img.h*a-this.Cheight)/2,h=(this.img.w*a-this.Cwidth)/2;t="iphone"==this.browser()?this.img.Yh/(this.img.w*a):this.img.Yh/(this.img.h*a);var l=this.Cwidth*t,u=this.Cheight*t,d=(h-o)*t,p=(c-s)*t,f=this.width,g=this.height;n.width=f,n.height=g;var m=e.img.Orientation;if(m>1)this.drawPhoto(i,m,function(t,i){r.drawImage(t,d/i,p/i,l/i,u/i,0,0,f,g);var a=n.toDataURL("image/jpg");e.$emit("callback",a,e.data),e.cancel()});else{r.drawImage(i,d,p,l,u,0,0,f,g);var v=n.toDataURL("image/jpg");this.$emit("callback",v,e.data),this.cancel()}},drawPhoto:function(t,e,i){var n=new Image;n.onload=function(){var t,n,r,a,o,s=0;t=this.naturalWidth,n=this.naturalHeight;var c=Math.max(t,n);if(c>1024){var h=Math.min(t,n);o=c/1024,h=h/c*1024,c=1024,t>n?(t=c,n=h):(t=h,n=c)}var l=document.createElement("canvas");l.width=r=t,l.height=a=n;var u=l.getContext("2d");switch(e){case 3:s=180,t=-r,n=-a;break;case 6:l.width=a,l.height=r,s=90,t=r,n=-a;break;case 8:l.width=a,l.height=r,s=270,t=-r,n=a;break}u.rotate(s*Math.PI/180),u.drawImage(this,0,0,t,n);var d=l.toDataURL("image/jpg"),p=new Image;p.src=d,p.onload=function(){i(this,o)}},n.src=t.src},browser:function(){var t=navigator.userAgent.toLowerCase(),e=navigator.vendor.toLowerCase();return/iphone|ipad|ipod/.test(t)&&/apple/.test(e)?"iphone":/android/.test(t)?"android":"pc"}},watch:{}},m=g,v=(i("e954"),i("2877")),y=Object(v["a"])(m,u,d,!1,null,null,null),w=y.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-box"},[i("img",{attrs:{src:t.imgUrl,alt:"",id:"img"}}),i("input",{staticClass:"file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.change(e)}}})])},T=[],C=(i("e7e5"),i("d399")),S=i("bab4"),x=i.n(S),E={props:{widthRate:{type:Number,default:1},heightRate:{type:Number,default:1},imgUrl:{type:String,default:""}},data:function(){return{}},methods:{change:function(t){var e=document.getElementById("img");this.clip(t,{resultObj:e,aspectWithRatio:Number(this.widthRate),aspectHeightRatio:Number(this.heightRate)})},initilize:function(t){var e,i=this;this.options=t,this.createElement(),this.resultObj=t.resultObj,this.cropper=new x.a(this.preview,(e={aspectRatio:t.aspectWithRatio/t.aspectHeightRatio,autoCropArea:t.autoCropArea||.8,viewMode:2,guides:!0,cropBoxResizable:!1,cropBoxMovable:!0,dragCrop:!1,dragMode:"move",center:!0,zoomable:!0,zoomOnTouch:!0,scalable:!0,minCropBoxHeight:200,minCropBoxWidth:200,background:!1,checkOrientation:!0,checkCrossOrigin:!0},s()(e,"zoomable",!1),s()(e,"zoomOnWheel",!1),s()(e,"center",!1),s()(e,"autoCropWidth",200),s()(e,"autoCropHeight",200),s()(e,"toggleDragModeOnDblclick",!1),s()(e,"ready",function(){if("Free"==t.aspectRatio){var e=i.cropper.cropBox;e.querySelector("span.cropper-view-box").style.outline="none",i.cropper.disable()}}),e))},createElement:function(){this.preview=null;var t='<div><img id="clip_image" src="originUrl"></div><button type="button" id="cancel_clip">取消</button><button type="button" id="clip_button">确定</button>';t+='<div class="crop_loading"><div class="crop_content"><div class="crop_text">图片修剪中...</div></div></div>',t+='<div class="crop_success"><div class="crop_success_text">上传成功</div></div></div>';var e=document.getElementsByTagName("body")[0];this.reagion=document.createElement("div"),this.reagion.id="clip_container",this.reagion.className="container",this.reagion.innerHTML=t,e.appendChild(this.reagion),this.preview=document.getElementById("clip_image"),this.initFunction()},initFunction:function(){var t=this;this.clickBtn=document.getElementById("clip_button"),this.cancelBtn=document.getElementById("cancel_clip"),this.addEvent(this.clickBtn,"click",function(){t.crop()}),this.addEvent(this.cancelBtn,"click",function(){t.destoried()}),this.addEvent(this.fileObj,"click",function(){this.value=""})},clip:function(t,e){this.fileObj=t.srcElement;var i=t.target.files||t.dataTransfer.files;if(!i.length)return!1;this.initilize(e),this.picValue=i[0],this.originUrl=this.getObjectURL(this.picValue),this.cropper&&this.cropper.replace(this.originUrl)},getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},crop:function(){var t,e,i=this,n=new Image;document.querySelector(".crop_loading").style.display="block",setTimeout(function(){t=i.cropper.getCroppedCanvas(),e=i.getRoundedCanvas(t);var r=e.toDataURL();n.src=r,r.length<102400?(i.resultObj.src=r,i.postImg(r)):n.onload=function(){var t=i.compress(n,i.Orientation);i.resultObj.src=t,i.postImg(t)}},20)},getRoundedCanvas:function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),n=t.width,r=t.height;return e.width=n,e.height=r,i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,n,r),i.globalCompositeOperation="destination-in",i.beginPath(),i.rect(0,0,n,r),i.fill(),e},destoried:function(){this.removeEvent(this.clickBtn,"click",null),this.removeEvent(this.cancelBtn,"click",null),this.removeEvent(this.fileObj,"click",null),this.reagion.parentNode.removeChild(this.reagion),this.cropper.destroy(),this.cropper=null},postImg:function(t){C["a"].loading({mask:!1,message:"上传中...",duration:0}),this.$emit("callback",t);var e=this;e.destoried()},rotateImg:function(t,e,i){var n=0,r=3;if(null!=t){var a=t.height,o=t.width,s=2;null==s&&(s=n),"right"==e?(s++,s>r&&(s=n)):(s--,s<n&&(s=r));var c=90*s*Math.PI/180,h=i.getContext("2d");switch(s){case 0:i.width=o,i.height=a,h.drawImage(t,0,0);break;case 1:i.width=a,i.height=o,h.rotate(c),h.drawImage(t,0,-a);break;case 2:i.width=o,i.height=a,h.rotate(c),h.drawImage(t,-o,-a);break;case 3:i.width=a,i.height=o,h.rotate(c),h.drawImage(t,-o,0);break}}},compress:function(t,e){var i,n,r=document.createElement("canvas"),a=r.getContext("2d"),o=document.createElement("canvas"),s=o.getContext("2d"),c=(t.src.length,t.width),h=t.height;if((i=c*h/4e6)>1?(i=Math.sqrt(i),c/=i,h/=i):i=1,r.width=c,r.height=h,a.fillStyle="#fff",a.fillRect(0,0,r.width,r.height),(n=c*h/1e6)>1){n=~~(Math.sqrt(n)+1);var l=~~(c/n),u=~~(h/n);o.width=l,o.height=u;for(var d=0;d<n;d++)for(var p=0;p<n;p++)s.drawImage(t,d*l*i,p*u*i,l*i,u*i,0,0,l,u),a.drawImage(o,d*l,p*u,l,u)}else a.drawImage(t,0,0,c,h);if(""!=e&&1!=e)switch(e){case 6:this.rotateImg(t,"left",r);break;case 8:this.rotateImg(t,"right",r);break;case 3:this.rotateImg(t,"right",r),this.rotateImg(t,"right",r);break}var f=r.toDataURL("image/png",.1);return o.width=o.height=r.width=r.height=0,f},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},removeEvent:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}}},I=E,P=(i("3fe0"),i("1de1"),Object(v["a"])(I,b,T,!1,null,"5901177c",null)),D=P.exports,F={name:"myinfo",components:(n={},s()(n,c["a"].name,c["a"]),s()(n,"imgCut",w),s()(n,"crop",D),n),data:function(){return{nickname:"",avatar:"",sex:"",loadModal:!1,index:0,imgList:[],ss:"ssa",iden:"",info:{sex:""},show:!1}},methods:{getUrl:function(t){var e=this,i=this.convertBase64UrlToBlob(t),n=this,r=new FormData;r.append("file",i,"file_"+Date.parse(new Date)+".jpg");var a={headers:{"Content-Type":"multipart/form-data"}};l.a.post("/api/common/upload/index/",r,a).then(function(t){200==t.data.code?(n.avatar=t.data.result,e.$toast.clear()):e.$toast.fail("图片上传失败")})},callback:function(t){this.$toast.loading({mask:!1,message:"上传中...",duration:0}),this.myUpload(t)},realTime:function(t){this.previews=t},chackSex:function(t){this.sex=t},myUpload:function(t){var e=this,i=new Image;i.src=t,i.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d"),r=i.width,a=i.height,o=750,s=750,c=r,h=a;(r>o||a>s)&&(r/a>o/s?(c=o,h=Math.round(o*(a/r))):(h=s,c=Math.round(s*(r/a)))),t.width=c,t.height=h,n.clearRect(0,0,c,h),n.drawImage(i,0,0,c,h);var u=t.toDataURL("image/jpeg",.92),d=e.convertBase64UrlToBlob(u),p=new FormData;p.append("file",d,"file_"+Date.parse(new Date)+".jpg");var f={headers:{"Content-Type":"multipart/form-data"}};l.a.post("/api/common/upload/index/",p,f).then(function(t){200==t.data.code?(e.avatar=t.data.result,e.$toast.clear()):e.$toast.fail("图片上传失败")})}},convertBase64UrlToBlob:function(t){for(var e=window.atob(t.split(",")[1]),i=new ArrayBuffer(e.length),n=new Uint8Array(i),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return new Blob([i],{type:"image/png"})},onRead:function(t){this.crooption.img=t.content},addDizhi:function(){var t=this;if(this.nickname.length>6)return this.$toast("昵称最多六个中文"),!1;var e={nickname:this.nickname,sex:this.sex,avatar:this.avatar||""};this.$api.getSetting.setMyInfo(e).then(function(e){200==e.code&&(t.$toast.success("保存成功"),setTimeout(function(){t.$store.dispatch("getUser"),t.toBack()},3e3))})}},created:function(){var t=this;this.$api.getSetting.findReward({iden:"wcgrzl"}).then(function(e){200==e.code&&(t.iden=e.result)});var e=this.$store.state.user;this.nickname=e.nickname||"",this.sex=e.sex,this.avatar=e.avatar}},R=F,_=(i("54cf"),Object(v["a"])(R,r,a,!1,null,"6a58c0aa",null));e["default"]=_.exports},"3fe0":function(t,e,i){"use strict";var n=i("a19e"),r=i.n(n);r.a},"405e":function(t,e,i){},"51fa":function(t,e,i){},"54cf":function(t,e,i){"use strict";var n=i("51fa"),r=i.n(n);r.a},"6ffb":function(t,e,i){t.exports=i.p+"img/nan1.6e4c5e8b.png"},a018:function(t,e,i){t.exports=i.p+"img/bm0.c7ff45fa.png"},a19e:function(t,e,i){},c0a3:function(t,e,i){t.exports=i.p+"img/lv2.f6ad7db0.png"},c8b5:function(t,e,i){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(r,a,o,s){"use strict";var c,h=["","webkit","Moz","MS","ms","o"],l=a.createElement("div"),u="function",d=Math.round,p=Math.abs,f=Date.now;function g(t,e,i){return setTimeout(C(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(v(t,i[e],i),!0)}function v(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==s){n=0;while(n<t.length)e.call(i,t[n],n,t),n++}else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function y(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=r.console&&(r.console.warn||r.console.log);return a&&a.call(r.console,n,i),t.apply(this,arguments)}}c="function"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==s&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var w=y(function(t,e,i){var n=Object.keys(e),r=0;while(r<n.length)(!i||i&&t[n[r]]===s)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),b=y(function(t,e){return w(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&c(n,i)}function C(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==u?t.apply(e&&e[0]||s,e):t}function x(t,e){return t===s?e:t}function E(t,e,i){v(F(e),function(e){t.addEventListener(e,i,!1)})}function I(t,e,i){v(F(e),function(e){t.removeEventListener(e,i,!1)})}function P(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function D(t,e){return t.indexOf(e)>-1}function F(t){return t.trim().split(/\s+/g)}function R(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var n=0;while(n<t.length){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function U(t,e,i){var n=[],r=[],a=0;while(a<t.length){var o=e?t[a][e]:t[a];R(r,o)<0&&n.push(t[a]),r[a]=o,a++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function k(t,e){var i,n,r=e[0].toUpperCase()+e.slice(1),a=0;while(a<h.length){if(i=h[a],n=i?i+r:e,n in t)return n;a++}return s}var A=1;function O(){return A++}function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L=/mobile|tablet|ip(ad|hone|od)|android/i,N="ontouchstart"in r,B=k(r,"PointerEvent")!==s,G=N&&L.test(navigator.userAgent),z="touch",Y="pen",j="mouse",W="kinect",X=25,H=1,q=2,V=4,$=8,J=1,K=2,Z=4,Q=8,tt=16,et=K|Z,it=Q|tt,nt=et|it,rt=["x","y"],at=["clientX","clientY"];function ot(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&i.handler(e)},this.init()}function st(t){var e,i=t.options.inputClass;return e=i||(B?Dt:G?Mt:N?Gt:St),new e(t,ct)}function ct(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,a=e&H&&n-r===0,o=e&(V|$)&&n-r===0;i.isFirst=!!a,i.isFinal=!!o,a&&(t.session={}),i.eventType=e,ht(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ht(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=dt(e)),r>1&&!i.firstMultiple?i.firstMultiple=dt(e):1===r&&(i.firstMultiple=!1);var a=i.firstInput,o=i.firstMultiple,s=o?o.center:a.center,c=e.center=pt(n);e.timeStamp=f(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=vt(s,c),e.distance=mt(s,c),lt(i,e),e.offsetDirection=gt(e.deltaX,e.deltaY);var h=ft(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=p(h.x)>p(h.y)?h.x:h.y,e.scale=o?wt(o.pointers,n):1,e.rotation=o?yt(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,ut(i,e);var l=t.element;P(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function lt(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},a=t.prevInput||{};e.eventType!==H&&a.eventType!==V||(r=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function ut(t,e){var i,n,r,a,o=t.lastInterval||e,c=e.timeStamp-o.timeStamp;if(e.eventType!=$&&(c>X||o.velocity===s)){var h=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=ft(c,h,l);n=u.x,r=u.y,i=p(u.x)>p(u.y)?u.x:u.y,a=gt(h,l),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,a=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=a}function dt(t){var e=[],i=0;while(i<t.pointers.length)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:e,center:pt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};var i=0,n=0,r=0;while(r<e)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:d(i/e),y:d(n/e)}}function ft(t,e,i){return{x:e/t||0,y:i/t||0}}function gt(t,e){return t===e?J:p(t)>=p(e)?t<0?K:Z:e<0?Q:tt}function mt(t,e,i){i||(i=rt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function vt(t,e,i){i||(i=rt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function yt(t,e){return vt(e[1],e[0],at)+vt(t[1],t[0],at)}function wt(t,e){return mt(e[0],e[1],at)/mt(t[0],t[1],at)}ot.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)}};var bt={mousedown:H,mousemove:q,mouseup:V},Tt="mousedown",Ct="mousemove mouseup";function St(){this.evEl=Tt,this.evWin=Ct,this.pressed=!1,ot.apply(this,arguments)}T(St,ot,{handler:function(t){var e=bt[t.type];e&H&&0===t.button&&(this.pressed=!0),e&q&&1!==t.which&&(e=V),this.pressed&&(e&V&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t}))}});var xt={pointerdown:H,pointermove:q,pointerup:V,pointercancel:$,pointerout:$},Et={2:z,3:Y,4:j,5:W},It="pointerdown",Pt="pointermove pointerup pointercancel";function Dt(){this.evEl=It,this.evWin=Pt,ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(It="MSPointerDown",Pt="MSPointerMove MSPointerUp MSPointerCancel"),T(Dt,ot,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=xt[n],a=Et[t.pointerType]||t.pointerType,o=a==z,s=R(e,t.pointerId,"pointerId");r&H&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):r&(V|$)&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),i&&e.splice(s,1))}});var Ft={touchstart:H,touchmove:q,touchend:V,touchcancel:$},Rt="touchstart",_t="touchstart touchmove touchend touchcancel";function Ut(){this.evTarget=Rt,this.evWin=_t,this.started=!1,ot.apply(this,arguments)}function kt(t,e){var i=_(t.touches),n=_(t.changedTouches);return e&(V|$)&&(i=U(i.concat(n),"identifier",!0)),[i,n]}T(Ut,ot,{handler:function(t){var e=Ft[t.type];if(e===H&&(this.started=!0),this.started){var i=kt.call(this,t,e);e&(V|$)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:z,srcEvent:t})}}});var At={touchstart:H,touchmove:q,touchend:V,touchcancel:$},Ot="touchstart touchmove touchend touchcancel";function Mt(){this.evTarget=Ot,this.targetIds={},ot.apply(this,arguments)}function Lt(t,e){var i=_(t.touches),n=this.targetIds;if(e&(H|q)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,a,o=_(t.changedTouches),s=[],c=this.target;if(a=i.filter(function(t){return P(t.target,c)}),e===H){r=0;while(r<a.length)n[a[r].identifier]=!0,r++}r=0;while(r<o.length)n[o[r].identifier]&&s.push(o[r]),e&(V|$)&&delete n[o[r].identifier],r++;return s.length?[U(a.concat(s),"identifier",!0),s]:void 0}T(Mt,ot,{handler:function(t){var e=At[t.type],i=Lt.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:z,srcEvent:t})}});var Nt=2500,Bt=25;function Gt(){ot.apply(this,arguments);var t=C(this.handler,this);this.touch=new Mt(this.manager,t),this.mouse=new St(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function zt(t,e){t&H?(this.primaryTouch=e.changedPointers[0].identifier,Yt.call(this,e)):t&(V|$)&&Yt.call(this,e)}function Yt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(r,Nt)}}function jt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],a=Math.abs(e-r.x),o=Math.abs(i-r.y);if(a<=Bt&&o<=Bt)return!0}return!1}T(Gt,ot,{handler:function(t,e,i){var n=i.pointerType==z,r=i.pointerType==j;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)zt.call(this,e,i);else if(r&&jt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Wt=k(l.style,"touchAction"),Xt=Wt!==s,Ht="compute",qt="auto",Vt="manipulation",$t="none",Jt="pan-x",Kt="pan-y",Zt=ee();function Qt(t,e){this.manager=t,this.set(e)}function te(t){if(D(t,$t))return $t;var e=D(t,Jt),i=D(t,Kt);return e&&i?$t:e||i?e?Jt:Kt:D(t,Vt)?Vt:qt}function ee(){if(!Xt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||r.CSS.supports("touch-action",i)}),t}Qt.prototype={set:function(t){t==Ht&&(t=this.compute()),Xt&&this.manager.element.style&&Zt[t]&&(this.manager.element.style[Wt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=D(n,$t)&&!Zt[$t],a=D(n,Kt)&&!Zt[Kt],o=D(n,Jt)&&!Zt[Jt];if(r){var s=1===t.pointers.length,c=t.distance<2,h=t.deltaTime<250;if(s&&c&&h)return}if(!o||!a)return r||a&&i&et||o&&i&it?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ie=1,ne=2,re=4,ae=8,oe=ae,se=16,ce=32;function he(t){this.options=c({},this.defaults,t||{}),this.id=O(),this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=ie,this.simultaneous={},this.requireFail=[]}function le(t){return t&se?"cancel":t&ae?"end":t&re?"move":t&ne?"start":""}function ue(t){return t==tt?"down":t==Q?"up":t==K?"left":t==Z?"right":""}function de(t,e){var i=e.manager;return i?i.get(t):t}function pe(){he.apply(this,arguments)}function fe(){pe.apply(this,arguments),this.pX=null,this.pY=null}function ge(){pe.apply(this,arguments)}function me(){he.apply(this,arguments),this._timer=null,this._input=null}function ve(){pe.apply(this,arguments)}function ye(){pe.apply(this,arguments)}function we(){he.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function be(t,e){return e=e||{},e.recognizers=x(e.recognizers,be.defaults.preset),new Se(t,e)}he.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=de(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=de(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return t=de(t,this),-1===R(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=de(t,this);var e=R(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<ae&&n(e.options.event+le(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=ae&&n(e.options.event+le(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ce},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(ce|ie)))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=ce);this.state&(oe|se|ce)&&(this.state=ie),this.state=this.process(e),this.state&(ne|re|ae|se)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(pe,he,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ne|re),r=this.attrTest(t);return n&&(i&$||!r)?e|se:n||r?i&V?e|ae:e&ne?e|re:ne:ce}}),T(fe,pe,{defaults:{event:"pan",threshold:10,pointers:1,direction:nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&et&&e.push(Kt),t&it&&e.push(Jt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,a=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&et?(r=0===a?J:a<0?K:Z,i=a!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?J:o<0?Q:tt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return pe.prototype.attrTest.call(this,t)&&(this.state&ne||!(this.state&ne)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ue(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(ge,pe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ne)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(me,he,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(V|$)&&!r)this.reset();else if(t.eventType&H)this.reset(),this._timer=g(function(){this.state=oe,this.tryEmit()},e.time,this);else if(t.eventType&V)return oe;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===oe&&(t&&t.eventType&V?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),T(ve,pe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ne)}}),T(ye,pe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|it,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(et|it)?e=t.overallVelocity:i&et?e=t.overallVelocityX:i&it&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&V},emit:function(t){var e=ue(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(we,he,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Vt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&H&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=V)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||mt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=g(function(){this.state=oe,this.tryEmit()},e.interval,this),ne):oe}return ce},failTimeout:function(){return this._timer=g(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==oe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),be.VERSION="2.0.7",be.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[ve,{enable:!1}],[ge,{enable:!1},["rotate"]],[ye,{direction:et}],[fe,{direction:et},["swipe"]],[we],[we,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Te=1,Ce=2;function Se(t,e){this.options=c({},be.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=st(this),this.touchAction=new Qt(this,this.options.touchAction),xe(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function xe(t,e){var i,n=t.element;n.style&&(v(t.options.cssProps,function(r,a){i=k(n.style,a),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function Ee(t,e){var i=a.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}Se.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ce:Te},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&oe)&&(r=e.curRecognizer=null);var a=0;while(a<n.length)i=n[a],e.stopped===Ce||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(ne|re|ae)&&(r=e.curRecognizer=i),a++}},get:function(t){if(t instanceof he)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,i=R(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var i=this.handlers;return v(F(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==s){var i=this.handlers;return v(F(t),function(t){e?i[t]&&i[t].splice(R(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&Ee(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<i.length)i[n](e),n++}},destroy:function(){this.element&&xe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(be,{INPUT_START:H,INPUT_MOVE:q,INPUT_END:V,INPUT_CANCEL:$,STATE_POSSIBLE:ie,STATE_BEGAN:ne,STATE_CHANGED:re,STATE_ENDED:ae,STATE_RECOGNIZED:oe,STATE_CANCELLED:se,STATE_FAILED:ce,DIRECTION_NONE:J,DIRECTION_LEFT:K,DIRECTION_RIGHT:Z,DIRECTION_UP:Q,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:it,DIRECTION_ALL:nt,Manager:Se,Input:ot,TouchAction:Qt,TouchInput:Mt,MouseInput:St,PointerEventInput:Dt,TouchMouseInput:Gt,SingleTouchInput:Ut,Recognizer:he,AttrRecognizer:pe,Tap:we,Pan:fe,Swipe:ye,Pinch:ge,Rotate:ve,Press:me,on:E,off:I,each:v,merge:b,extend:w,assign:c,inherit:T,bindFn:C,prefixed:k});var Ie="undefined"!==typeof r?r:"undefined"!==typeof self?self:{};Ie.Hammer=be,n=function(){return be}.call(e,i,e,t),n===s||(t.exports=n)})(window,document)},d750:function(t,e,i){t.exports=i.p+"img/sex2.b89e8496.png"},db8e:function(t,e,i){t.exports=i.p+"img/lv.db9c5b58.png"},e582:function(t,e,i){},e954:function(t,e,i){"use strict";var n=i("405e"),r=i.n(n);r.a},f13a:function(t,e,i){var r,a;(function(){var i=!1,o=function(t){return t instanceof o?t:this instanceof o?void(this.EXIFwrapped=t):new o(t)};t.exports&&(e=t.exports=o),e.EXIF=o;var s=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},c=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},h=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function u(t){return!!t.exifdata}function d(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,r=new ArrayBuffer(n),a=new Uint8Array(r),o=0;o<n;o++)a[o]=i.charCodeAt(o);return r}function p(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}function f(t,e){function n(i){var n=g(i),r=m(i);t.exifdata=n||{},t.iptcdata=r||{},e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var r=d(t.src);n(r)}else if(/^blob\:/i.test(t.src)){var a=new FileReader;a.onload=function(t){n(t.target.result)},p(t.src,function(t){a.readAsArrayBuffer(t)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(o.response),o=null},o.open("GET",t.src,!0),o.responseType="arraybuffer",o.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){a=new FileReader;a.onload=function(t){i&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},a.readAsArrayBuffer(t)}}function g(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n,r=2,a=t.byteLength;while(r<a){if(255!=e.getUint8(r))return i&&console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),!1;if(n=e.getUint8(r+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),C(e,r+4,e.getUint16(r+2)-2);r+=2+e.getUint16(r+2)}}function m(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,r=t.byteLength,a=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};while(n<r){if(a(e,n)){var o=e.getUint8(n+7);o%2!==0&&(o+=1),0===o&&(o=4);var s=n+8+o,c=e.getUint16(n+6+o);return y(t,s,c)}n++}}var v={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function y(t,e,i){var n,r,a,o,s=new DataView(t),c={},h=e;while(h<e+i)28===s.getUint8(h)&&2===s.getUint8(h+1)&&(o=s.getUint8(h+2),o in v&&(a=s.getInt16(h+3),a+5,r=v[o],n=T(s,h+5,a),c.hasOwnProperty(r)?c[r]instanceof Array?c[r].push(n):c[r]=[c[r],n]:c[r]=n)),h++;return c}function w(t,e,n,r,a){var o,s,c,h=t.getUint16(n,!a),l={};for(c=0;c<h;c++)o=n+12*c+2,s=r[t.getUint16(o,!a)],!s&&i&&console.log("Unknown tag: "+t.getUint16(o,!a)),l[s]=b(t,o,e,n,a);return l}function b(t,e,i,n,r){var a,o,s,c,h,l,u=t.getUint16(e+2,!r),d=t.getUint32(e+4,!r),p=t.getUint32(e+8,!r)+i;switch(u){case 1:case 7:if(1==d)return t.getUint8(e+8,!r);for(a=d>4?p:e+8,o=[],c=0;c<d;c++)o[c]=t.getUint8(a+c);return o;case 2:return a=d>4?p:e+8,T(t,a,d-1);case 3:if(1==d)return t.getUint16(e+8,!r);for(a=d>2?p:e+8,o=[],c=0;c<d;c++)o[c]=t.getUint16(a+2*c,!r);return o;case 4:if(1==d)return t.getUint32(e+8,!r);for(o=[],c=0;c<d;c++)o[c]=t.getUint32(p+4*c,!r);return o;case 5:if(1==d)return h=t.getUint32(p,!r),l=t.getUint32(p+4,!r),s=new Number(h/l),s.numerator=h,s.denominator=l,s;for(o=[],c=0;c<d;c++)h=t.getUint32(p+8*c,!r),l=t.getUint32(p+4+8*c,!r),o[c]=new Number(h/l),o[c].numerator=h,o[c].denominator=l;return o;case 9:if(1==d)return t.getInt32(e+8,!r);for(o=[],c=0;c<d;c++)o[c]=t.getInt32(p+4*c,!r);return o;case 10:if(1==d)return t.getInt32(p,!r)/t.getInt32(p+4,!r);for(o=[],c=0;c<d;c++)o[c]=t.getInt32(p+8*c,!r)/t.getInt32(p+4+8*c,!r);return o}}function T(t,e,i){var r="";for(n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r}function C(t,e){if("Exif"!=T(t,e,4))return i&&console.log("Not valid EXIF data! "+T(t,e,4)),!1;var n,r,a,o,u,d=e+6;if(18761==t.getUint16(d))n=!1;else{if(19789!=t.getUint16(d))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(d+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var p=t.getUint32(d+4,!n);if(p<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(d+4,!n)),!1;if(r=w(t,d,d+p,c,n),r.ExifIFDPointer)for(a in o=w(t,d,d+r.ExifIFDPointer,s,n),o){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[a]=l[a][o[a]];break;case"ExifVersion":case"FlashpixVersion":o[a]=String.fromCharCode(o[a][0],o[a][1],o[a][2],o[a][3]);break;case"ComponentsConfiguration":o[a]=l.Components[o[a][0]]+l.Components[o[a][1]]+l.Components[o[a][2]]+l.Components[o[a][3]];break}r[a]=o[a]}if(r.GPSInfoIFDPointer)for(a in u=w(t,d,d+r.GPSInfoIFDPointer,h,n),u){switch(a){case"GPSVersionID":u[a]=u[a][0]+"."+u[a][1]+"."+u[a][2]+"."+u[a][3];break}r[a]=u[a]}return r}o.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(u(t)?e&&e.call(t):f(t,e),!0)},o.getTag=function(t,e){if(u(t))return t.exifdata[e]},o.getAllTags=function(t){if(!u(t))return{};var e,i=t.exifdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},o.pretty=function(t){if(!u(t))return"";var e,i=t.exifdata,n="";for(e in i)i.hasOwnProperty(e)&&("object"==typeof i[e]?i[e]instanceof Number?n+=e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":n+=e+" : ["+i[e].length+" values]\r\n":n+=e+" : "+i[e]+"\r\n");return n},o.readFromBinaryFile=function(t){return g(t)},window.EXIF=o,r=[],a=function(){return o}.apply(e,r),void 0===a||(t.exports=a)}).call(this)}}]);