(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88fb4b3a"],{"15e3":function(t,e,s){t.exports=s.p+"img/sex1.6e933076.png"},ab4c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAgCAMAAAAhSXi5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODkxYTc5OS1lYWQ4LTNjNGMtOWUxMi02ZWI4MmI3OGU2ZTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNUQ2RUM5N0MxMTFFOUE4MzU5MjVFODQ0MDVFRDIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEIyMTEyNjc5N0MxMTFFOUE4MzU5MjVFODQ0MDVFRDIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTg5MWE3OTktZWFkOC0zYzRjLTllMTItNmViODJiNzhlNmU1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU4OTFhNzk5LWVhZDgtM2M0Yy05ZTEyLTZlYjgyYjc4ZTZlNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiCBy/EAAAMAUExURfjt5PWumfF7XPe9q/3x6vuNcvXEtvCZgfKijf7i2PZiPfxPJ/7r4/lYNPne1fq8q/qCZffSxvlfO/z08fhmQfprSPlxUfdoRfnKvfpuSvVeOPWGavZlQf/8+/36+PqKbvjJuvi2o+1zVPOqlv3j3f/c0/3TxfadhfOdifKSevXOwv76+f37+vzLvfft6PbEufqqlvuGavbUyfbUx/rEtt16W/apk/uTeffZy/awnfaDY/fXzfaSefVZM/1XMfuagP5SKfx5Wv3s5f3r5vfr3/mum/5iOv7e1v/b0vdsSvVaNPl3WfrFufeKb/hpRvVgOvqljvxcM/paM/udg/749f718flUK/nu6vzs6P1nQ/bd0fvb0f3TyfmnkfdcNvlZMftXMflWMvhVL/lxTvhcNv/+/////f/+/f7+/v/+/v3////9/P79/P7//vxZMf5YMPtdNvWplf7+//7/+vWPcvp4V+mei/2ji/h7YPSijPNsSvxZNvrUy/328/2YfvdSKv/39PxzUPjYzPnazvKJcPqAYv1bMvbMvfxbMfvw7fjPwPz+/vhXMv359/pXL/v9/P3n3/v28/SZgvebhv35+fOvnfXl4Pff1PjAsfrFs/vAqvz///l0U/p2V/ZWMf50UfOWf/5yT/VkP++SefFjP/ltTPl9XeyEaf/z7/Clj/Slj/BrSf1YLvZqSd9/Zfj49v7+/P7+/f7o3e6Odffs4v328fFaNfuul+x9X/Oum/zn4/38+/tcM/9cN/CznvmNb/zt6/zu6f7VyvlgO/liPfplQPmhifu4o/RvTvubhPBxUfF2VvdxUvqyn/xVLf51TvighvWUevvZzPrbz/3v6/aPdPmEZvqXfv3c0fzd1OKHa/jZ0fjZ0vtYMOaRef/9/f3//f1YMvvj3vhcNPvm3vtcNfNOJfjz7vry7/3QwvVvUPjt6fvz8Pnv6vrv6vjUy/zBsPvXyvtTLf3Pw/hRKP3+/v3u5/lVMPvp5fJ/Yv/6+/OIbPWyov7//////v///7i2f3cAAAJwSURBVHjaYvj/PzX1///siW+3uLgwvJD7DwT//v9nAAr/Tw+9vO/eOlPTW2VsE7T//08DCaf9z35UyLSI93tPYnxcVQubcOZ/sOpu4/1H47mUli/evGN1XFCyWfhXkPDf99JtQUxTP27i4eFUmLQ2X6Ty3d//DP94bALzfI3X56RnZqbr6CmKJYjwN/xn+OV6NEj6zu6/////BWFh5qV2yy5tYFCR9pL00fkPB8LqQoddQxlmeErZX/mPBNQq7AxVGAqfLvqApPj/v62THnrGMGic81OThQoBTU/9/9fsqb8ug4aD5CGY8H+wMGOBlC5D5TnxzxDhf/9SQdSDVXtkXjJYCnEdl4MIp2UAySynkjWlNxgkzsTtf/IXqhxIyPInd9hHMDjbpIgYHISKZfzPdb+W5+mjw5BuMueuuGVE9r9/RRn///Xyae4JnHzgL8O/EEbRanH1XWBjtLushAqsojeCApZl55ywJRJg4Tcrv7j9FswBh/ff5xcCvUzAkcVynfu8Qj8kGv7/tzzir6g3zVqrnVnAzpEzHST89//f4sJIt/mOcxslRSP3OixUBQsD4/PfH5FPfX0pXIvWnjjNxBGRCRX+Hx1syFpXvv34rJntTW9zgK4HRhowIO7zqHrcvMk3Pcpa0Oj1bJBtDEVAolPirEHASXN5q1ZvsWPfwIaAgkeLaZvtvKSkpJ6Ux3EXnVJhZtf4vvIWkDcPDoiNdTXS/v8fmtga3GM8VJubLKJ+rAjNBaU1sHDq36ysWgVlDnZ2fWCEpP0DepfhPzhK/rafevblS9hVZ3DQpP1jgEbi7cWnf/5eoD8FGqkAAQYAm8O8QkEc1GoAAAAASUVORK5CYII="},bf96:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ewm-con"},[i("van-nav-bar",{staticClass:"navbar",attrs:{title:"分享","left-text":"","left-arrow":""},on:{"click-left":t.backLeft}}),i("div",{staticClass:"successNav"},[i("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption},on:{someSwiperEvent:t.callback}},t._l(t.ewm.banner,function(t,e){return i("swiper-slide",{key:e},[i("img",{staticClass:"img_ban",attrs:{src:t.piclink,alt:""}})])}),1)],1),i("div",{staticClass:"ewm-text-con"},[t._m(0),i("van-button",{staticClass:"but",attrs:{type:"primary",size:"large"},on:{click:t.showPop}},[t._v("分享专属海报")]),i("p",{staticClass:"ewm-share"},[i("span",[t._v("我的邀请码："+t._s(t.$store.state.user.username))]),i("span",{staticClass:"copy",staticStyle:{cursor:"pointer"},attrs:{onclick:"","data-clipboard-text":t.userInfo.username,"data-clipboard-action":"copy"},on:{click:t.copy}},[t._v("复制")])]),i("p",{staticClass:"ewm-num"},[t._v("\n            累计成功邀请\n            "),i("span",[t._v(t._s(t.$store.state.user.ynumber))]),i("van-icon",{attrs:{name:"arrow",color:"#8a8a8a"}})],1)],1),i("van-popup",{staticClass:"upload_shaer ",attrs:{"close-on-click-overlay":!1,"get-container":"body"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"upload_shaer_img"},[i("img",{staticClass:"imgUrl",attrs:{src:t.imgUrl,alt:""}}),i("van-icon",{attrs:{name:"clear",size:"28px",color:"red"},on:{click:function(e){t.show=!1}}})],1),i("div",{staticClass:"upload_shaer_btn "},[i("div",{staticClass:"tc",on:{click:function(e){return t.uploadShare(t.isWx)}}},[i("img",{staticClass:"upload_img_ewm",attrs:{src:s("8b80"),alt:""}}),i("span",[t._v(t._s(0==t.isWx?"长按保存":"保存到系统相册"))])])])]),i("div",{ref:"imageDom",staticClass:"container",staticStyle:{width:"100%"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.ewm_top_img,alt:""}}),i("div",{staticClass:"container_foot"},[i("div",{staticClass:"bg_text fx"},[i("div",{staticClass:"fx_3 fx left_emw"},[i("img",{staticClass:"avatar",attrs:{src:t.$fnc.getImgUrl(t.ewm.user.avatar,"sex")||(2==t.$store.state.user.sex?s("d750"):s("15e3")),mode:""}}),i("div",{staticClass:"fx ewm_footer_text"},[i("div",{staticClass:"text_c"},[t._v("\n                            "+t._s(t.ewm.user.title1.length>=12?t.ewm.user.title1.slice(0,12):t.ewm.user.title1)+"\n                        ")]),i("div",{staticClass:"text_c2"},[t._v(t._s(t.ewm.user.title2))])])]),i("div",{staticClass:"fx_1 tc"},[i("img",{staticClass:"ewm",attrs:{src:t.ewm.wy_ewm,mode:""}})])])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"ewm-text-p1"},[i("img",{attrs:{src:s("ab4c"),alt:""}}),i("span",[t._v("成功邀请的好友每下一单，你都能从中获得利益")])])}],n=(s("dfa4"),s("7212")),c=s("c0e9"),r=s.n(c),o=s("a78e"),l=s.n(o),v={name:"ewm",components:{swiper:n["swiper"],swiperSlide:n["swiperSlide"]},data:function(){var t=this;return{ewm_top_img:"",userInfo:this.$store.state.user,avtiveImgIndex:0,show:!1,show1:!1,swiperOption:{initialSlide:0,autoplay:!1,effect:"coverflow",slidesPerView:2,centeredSlides:!0,coverflowEffect:{rotate:30,stretch:10,depth:60,modifier:2,slideShadows:!0},on:{transitionEnd:function(){t.avtiveImgIndex=this.activeIndex}}},ewm:{wy_ewm:"",banner:[{piclink:""}],user:{title1:"",title2:"",avatar:""}},popImg:"",imgUrl:null,isWx:"0"}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},created:function(){this.$store.dispatch("getUser")},mounted:function(){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?this.isWx="0":"ykapp"==t.match(/ykapp/i)?this.isWx="1":this.isWx="2",this.getEwm(this.isWx),this.getImageBlob("http://inexweb.oss-cn-shenzhen.aliyuncs.com/yingke/resource/image/product/201908/2201bcaaaad3c1aed8db6e1a5af26b22.jpg")},methods:{getImageBlob:function(t,e){var s=new XMLHttpRequest;s.open("get",t,!0),s.responseType="blob",s.onload=function(){this.status},s.send()},preView:function(t){var e=new FileReader;this.getImageBlob(t,function(t){e.readAsDataURL(t)}),e.onload=function(t){}},showPop:function(){var t=this,e=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"加载中..."}),s=this.$refs.imageDom,i=s.offsetWidth,a=s.offsetHeight,n=s.offsetTop,c=document.createElement("canvas"),o=c.getContext("2d"),l=Math.ceil(window.devicePixelRatio);c.width=i*l,c.height=(a+n)*l,o.scale(l,l);var v={useCORS:!0,tainttest:!0,scale:l,canvas:c,logging:!1,width:i,height:a};r()(s,v).then(function(s){s.style.width=i+"px",s.style.height=a+"px",t.imgUrl=s.toDataURL("image/png"),t.imgUrl&&(t.show=!0,e.clear())})},uploadShare:function(t){this.show=!1,this.$fnc.ykAppUpImage(this.imgUrl)},backLeft:function(){this.toBack()},callback:function(t){},copy:function(){var t=this,e=this.$store.state.user.share||"",s=new this.clipboard(".copy");s.on("success",function(e){t.$toast.success("复制成功"),e.clearSelection()}),s.on("error",function(s){t.$fnc.ykAPPCopy(e)})},getEwm:function(t){var e=this;t=t=1==t||2==t?1:2;var s=l.a.get("user")?JSON.parse(l.a.get("user")):{uid:0},i=this.appusers.uid||this.$store.state.user.uid||s.uid||"";this.$api.getUser.getEwm({id:i,ewm_type:t}).then(function(t){200==t.code&&e.$nextTick(function(){e.ewm=t.result,e.ewm_top_img=t.result.banner[0].piclink})})}},watch:{avtiveImgIndex:function(t,e){this.ewm_top_img=this.ewm.banner[t].piclink}}},f=v,m=(s("f5be"),s("2877")),p=Object(m["a"])(f,i,a,!1,null,"c6d34258",null);e["default"]=p.exports},d750:function(t,e,s){t.exports=s.p+"img/sex2.b89e8496.png"},ee7e:function(t,e,s){},f5be:function(t,e,s){"use strict";var i=s("ee7e"),a=s.n(i);a.a}}]);