(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06f36d0e"],{"11af":function(a,e,t){"use strict";t.r(e);var i,s=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",{staticClass:"s-a-con"},[i("van-nav-bar",{staticClass:"navbar",attrs:{title:"商家入驻","left-text":"","left-arrow":""},on:{"click-left":function(e){return a.$router.back()}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:1==a.info.supplier_company_title.value||1==a.info.supplier_company_region.value||1==a.info.supplier_company_add.value,expression:"info.supplier_company_title.value==1 || info.supplier_company_region.value==1 || info.supplier_company_add.value==1"}],staticClass:"s-a-box"},[i("h2",[a._v("填写店铺管理人信息")]),i("van-cell-group",{attrs:{border:!1}},[1==a.info.supplier_company_title.value?i("van-field",{attrs:{required:"",clearable:"",disabled:a.params.is_check,label:"公司名称"},model:{value:a.params.title,callback:function(e){a.$set(a.params,"title",e)},expression:"params.title"}}):a._e(),i("van-cell",{directives:[{name:"show",rawName:"v-show",value:1==a.info.supplier_company_region.value,expression:"info.supplier_company_region.value==1"}],staticStyle:{height:"56px"},attrs:{title:"所属区域",required:"","is-link":"",disabled:a.params.is_check,id:"trigger",value:a.cs}}),1==a.info.supplier_company_add.value?i("van-field",{attrs:{required:"",clearable:"",disabled:a.params.is_check,label:"公司地址"},model:{value:a.params.add,callback:function(e){a.$set(a.params,"add",e)},expression:"params.add"}}):a._e()],1)],1),1==a.info.supplier_company_name.value||1==a.info.supplier_company_card.value?i("div",{staticClass:"s-a-box"},[i("h2",[a._v("填写企业法人代表信息")]),i("van-cell-group",{attrs:{border:!1}},[1==a.info.supplier_company_name.value?i("van-field",{attrs:{required:"",disabled:a.params.is_check,clearable:"",label:"姓名"},model:{value:a.params.name,callback:function(e){a.$set(a.params,"name",e)},expression:"params.name"}}):a._e(),1==a.info.supplier_company_card.value?i("van-field",{attrs:{required:"",disabled:a.params.is_check,clearable:"",label:"身份证号"},model:{value:a.params.card,callback:function(e){a.$set(a.params,"card",e)},expression:"params.card"}}):a._e()],1)],1):a._e(),1==a.info.supplier_company_cardpositive.value||1==a.info.supplier_company_cardnegative.value||1==a.info.supplier_company_license.value?i("div",{staticClass:"s-a-box"},[i("h2",[a._v("上传资质信息")]),1==a.info.supplier_company_cardpositive.value?i("div",{staticClass:"s-a-box-card fx"},[i("div",[i("p",[a._v("法人身份证头像图")]),i("div",{staticClass:"s-a-box-card-up"},[i("van-uploader",{staticClass:"up_img_add",attrs:{multiple:"","after-read":a.afterRead1}},[i("img",{attrs:{src:a.params.cardpositive||t("f31f"),alt:""}})])],1)]),a._m(0)]):a._e(),1==a.info.supplier_company_cardnegative.value?i("div",{staticClass:"s-a-box-card fx"},[i("div",[i("p",[a._v("法人身份证国徽图")]),i("div",{staticClass:"s-a-box-card-up"},[i("van-uploader",{staticClass:"up_img_add",attrs:{multiple:"","after-read":a.afterRead2}},[i("img",{attrs:{src:a.params.cardnegative||t("6e9d"),alt:""}})])],1)]),a._m(1)]):a._e(),1==a.info.supplier_company_license.value?i("div",{staticClass:"s-a-box-card fx"},[i("div",[i("p",[a._v("上传营业执照")]),i("div",{staticClass:"s-a-box-card-up"},[i("van-uploader",{staticClass:"up_img_add",attrs:{multiple:"","after-read":a.afterRead3}},[i("img",{attrs:{src:a.params.license||t("6e9d"),alt:""}})])],1)]),a._m(2)]):a._e()]):a._e(),1==a.info.supplier_company_product.value?i("div",{staticClass:"s-a-box"},[i("h2",[a._v("上传主营商品样图")]),i("div",{staticClass:"s-a-imgs"},[i("div",{},[a._l(a.image,function(e,t){return i("div",{key:t,staticClass:"box_img_img_details"},[i("img",{attrs:{width:"100%",src:e}}),null==a.params.is_check?i("span",{on:{click:function(e){return a.closeImg(t)}}},[i("van-icon",{attrs:{name:"cross",size:"18",color:"#fff"}})],1):a._e()])}),null==a.params.is_check?i("van-uploader",{staticClass:"up_img_add",attrs:{multiple:"","after-read":a.afterRead4}},[i("div",{staticClass:"up_inp_refund van-uploader__upload"},[i("van-icon",{attrs:{name:"plus",size:"37px",color:"#c2c2c2"}})],1)]):a._e()],2)])]):a._e(),a.load?i("van-button",{staticClass:"pay_order_btn",attrs:{type:"primary",size:"large",disabled:1==a.params.is_check||0==a.params.is_check},on:{click:a.subAppliy}},[a._v(a._s(1==a.params.is_check?"申请通过":0==a.params.is_check?"审核中":"确认申请"))]):a._e(),i("ImgCrop",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"show"}],attrs:{imgSrc:a.imgSrc},on:{sendImg:a.getImg}})],1)},r=[function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("p",[a._v("示例")]),i("img",{attrs:{src:t("3b65"),alt:""}})])},function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("p",[a._v("示例")]),i("img",{attrs:{src:t("ce56"),alt:""}})])},function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("p",[a._v("示例")]),i("img",{attrs:{src:t("8dc3"),alt:""}})])}],n=t("9523"),c=t.n(n),o=(t("db2c"),t("1125")),p=(t("be7f"),t("565f")),l=t("1288"),u=t("5118"),d=t("e11d"),m=t("d319"),v=t.n(m),f=t("33eb").default,_={name:"supplierapply",components:(i={},c()(i,p["a"].name,p["a"]),c()(i,o["a"].name,o["a"]),c()(i,"ImgCrop",l["a"]),i),data:function(){return{username:"",load:!1,tel:"",sms:"",pic:[],imgSrc:"",show:!1,image:[],cs:"请选择地址",addressList:f,address:!1,info:{supplier_company_title:{value:"0"},supplier_company_region:{value:"0"},supplier_company_add:{value:"0"},supplier_company_name:{value:"0"},supplier_company_card:{value:"0"},supplier_company_cardpositive:{value:"0"},supplier_company_cardnegative:{value:"0"},supplier_company_license:{value:"0"},supplier_company_product:{value:"0"}},params:{title:"",province:"",city:"",area:"",add:"",name:"",card:"",town:"",cardpositive:"",cardnegative:"",license:"",image:""}}},created:function(){this.getAddShopsConfig()},mounted:function(){var a=this;new v.a({trigger:"#trigger",title:"",triggerDisplayData:!1,wheels:[{data:d}],keyMap:{id:"y",value:"t",childs:"z"},position:[],callback:function(e,t){a.params.town="",a.cs=t[0].t+"-"+t[1].t+"-"+t[2].t,a.params.province=t[0].t,a.params.city=t[1].t,a.params.area=t[2].t,t[3]&&(a.params.town=t[3].t,a.cs+="-"+t[3].t),a.cs=a.$fnc.deleteNumber(a.cs)},transitionEnd:function(a,e){}})},methods:{closeImg:function(a){this.image.splice(a,1)},afterRead1:function(a){var e=this;this.$fnc.imgCompress(a.content,function(a){e.params.cardpositive=a})},afterRead2:function(a){var e=this;this.$fnc.imgCompress(a.content,function(a){e.params.cardnegative=a})},afterRead3:function(a){var e=this;this.$fnc.imgCompress(a.content,function(a){e.params.license=a})},afterRead4:function(a){this.show=!0,this.imgSrc=a.content},getImg:function(a){var e=this;this.$fnc.imgCompress(a,function(a){e.image.push(a)})},getAddShopsConfig:function(){var a=this;this.$api.getSupplier.getAddShopsConfig({}).then(function(e){if(200==e.code&&(a.load=!0,a.info=e.result.config,e.result.content.title))for(var t in a.params=e.result.content,a.cs=a.$fnc.deleteNumber(a.params.province+a.params.city+a.params.area+a.params.town),a.image=[],a.params.image)a.image.push(a.params.image[t].piclink)})},subAppliy:function(){var a=this;a.$dialog.confirm({message:"是否提交申请"}).then(function(){var e=a.params;e.image=a.image.join("@"),a.$api.getSupplier.setSupplierApply(e).then(function(e){200==e.code&&(a.$toast.success("申请已提交，等待审核"),Object(u["setTimeout"])(function(){a.toBack()},1500))})}).catch(function(){})}}},g=_,h=(t("2f13"),t("2877")),b=Object(h["a"])(g,s,r,!1,null,"386efa7c",null);e["default"]=b.exports},1288:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"demo"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.panel,expression:"panel"}],staticClass:"container"},[t("div",[t("img",{attrs:{id:"image",src:a.url,alt:"Picture"}})]),t("button",{attrs:{type:"button",id:"button"},on:{click:a.crop}},[a._v("确定")])])])},s=[],r=t("bab4"),n=t.n(r),c={components:{},props:{imgSrc:{type:String,default:""}},data:function(){return{headerImage:"",picValue:"",cropper:"",croppable:!1,panel:!1,url:""}},watch:{imgSrc:function(a){a&&this.change()}},mounted:function(){var a=this,e=document.getElementById("image");this.cropper=new n.a(e,{aspectRatio:1,viewMode:1,background:!0,resizable:!1,dragCrop:!1,zoomable:!0,rotatable:!0,ready:function(){a.croppable=!0}})},methods:{getObjectURL:function(a){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(a):void 0!=window.URL?e=window.URL.createObjectURL(a):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(a)),e},change:function(){this.url=this.imgSrc,this.cropper&&this.cropper.replace(this.url),this.panel=!0},crop:function(){var a,e;this.panel=!1,this.croppable&&(a=this.cropper.getCroppedCanvas(),e=this.getRoundedCanvas(a),this.headerImage=e.toDataURL(),this.$emit("sendImg",this.headerImage))},getRoundedCanvas:function(a){var e=document.createElement("canvas"),t=e.getContext("2d"),i=a.width,s=a.height,r=750,n=750,c=i,o=s;return(i>r||s>n)&&(i/s>r/n?(c=r,o=Math.round(r*(s/i))):(o=n,c=Math.round(n*(i/s)))),e.width=c,e.height=o,t.clearRect(0,0,c,o),t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height),t.drawImage(a,0,0,c,o),e}}},o=c,p=(t("32cc"),t("2877")),l=Object(p["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports},"2e16":function(a,e,t){},"2f13":function(a,e,t){"use strict";var i=t("2e16"),s=t.n(i);s.a},"32cc":function(a,e,t){"use strict";var i=t("848a"),s=t.n(i);s.a},"3b65":function(a,e,t){a.exports=t.p+"img/card_z.e6612fc0.png"},"6e9d":function(a,e,t){a.exports=t.p+"img/card_f1.98e9bbcc.png"},"848a":function(a,e,t){},"8dc3":function(a,e,t){a.exports=t.p+"img/card_y.9d2c933d.png"},ce56:function(a,e,t){a.exports=t.p+"img/card_f.26559c9b.png"},db2c:function(a,e,t){"use strict";t("68ef"),t("a526")},f31f:function(a,e,t){a.exports=t.p+"img/card_z1.23a0b731.png"}}]);