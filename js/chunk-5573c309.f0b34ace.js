(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5573c309"],{"7f6f":function(t,e,s){"use strict";var i=s("8089"),n=s.n(i);n.a},8089:function(t,e,s){},e939:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"receipt",staticClass:"container con_bg receipt"},[i("van-nav-bar",{staticClass:"navbar",attrs:{title:"店铺收款二维码","left-text":"","left-arrow":"",border:!1},on:{"click-left":function(e){return t.toBack()}}}),i("div",{staticClass:"receipt_body"},[i("div",{staticClass:"receipt_box"},[i("div",{staticClass:"receipt_box_top"},[i("van-icon",{attrs:{name:"balance-o",color:"#f8696c ",size:"24px"}}),t._v("\n                二维码收款\n            ")],1),i("div",{staticClass:"receipt_box_content"},[i("p",[t._v("扫描二维码向商家付钱")]),t.$route.query.money?i("p",[t._v("￥"+t._s(t.$fnc.toFixedZ(t.money,2)))]):t._e(),i("div",{staticClass:"receipt_box_content_img"},[i("div",{ref:"qrcode",attrs:{id:"qrcode_receipt"}})]),i("div",{staticClass:"receipt_box_content_set"},[i("span",{on:{click:t.set_money}},[t._v(t._s(t.$route.query.money?"清除金额":"设置金额"))]),i("span",[t._v("|")]),i("span",{on:{click:t.save_money}},[t._v("保存收款码")])])])])]),i("van-popup",{staticClass:"upload_shaer ",attrs:{"close-on-click-overlay":!1,"get-container":"body"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"upload_shaer_img"},[i("img",{staticClass:"imgUrl",attrs:{src:t.imgUrl,alt:""}}),i("van-icon",{attrs:{name:"clear",size:"28px",color:"#ffffff"},on:{click:function(e){t.show=!1}}})],1),i("div",{staticClass:"upload_shaer_btn "},[i("div",{staticClass:"tc",on:{click:function(e){return t.uploadShare(t.isWx)}}},[i("img",{staticClass:"upload_img_ewm",attrs:{src:s("8b80"),alt:""}}),i("span",[t._v(t._s(0==t.isWx?"长按保存":"保存到系统相册"))])])])])],1)},n=[],o=s("d044"),a=s.n(o),c=s("5118"),r=s("c0e9"),l=s.n(r),h={name:"ZhanYe_receipt",data:function(){return{isWx:"0",imgUrl:"",show:!1,id:this.$store.state.user.uid,tshare:this.$store.state.user.username,ewmsrc:"",money:this.$route.query.money||0,set_show:!0}},components:{},created:function(){var t=this;Object(c["setTimeout"])(function(){t.qrcode()},500)},mounted:function(){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?this.isWx="0":"ykapp"==t.match(/ykapp/i)?this.isWx="1":this.isWx="2"},methods:{uploadShare:function(t){this.show=!1,this.$fnc.ykAppUpImage(this.imgUrl)},save_money:function(){var t=this;l()(this.$refs.receipt).then(function(e){var s=e.toDataURL("image/png");t.imgUrl=s,""!==t.imgUrl&&(t.show=!0)})},set_money:function(){this.$route.query.money?this.$router.push({path:"/zhanye/receipt"}):this.$router.push({path:"/zhanye/receipt/set"})},qrcode:function(){this.ewmsrc="".concat(window.location.protocol,"//").concat(window.location.host,"/zhanye/receipt/transaction?money=").concat(this.money,"&tshare=").concat(this.tshare,"&id=").concat(this.id),document.getElementById("qrcode_receipt").innerHTML="";new a.a("qrcode_receipt",{width:200,height:200,text:this.ewmsrc,colorDark:"#000",colorLight:"#fff"})}}},u=h,p=(s("7f6f"),s("2877")),d=Object(p["a"])(u,i,n,!1,null,"4e9f49bf",null);e["default"]=d.exports}}]);