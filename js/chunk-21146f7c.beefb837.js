(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21146f7c"],{"1b10":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}}},"310c":function(t,e,n){"use strict";n.r(e);var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{staticClass:"navbar",attrs:{title:"反馈问题","left-text":"","left-arrow":"",border:!1},on:{"click-left":function(e){return t.toBack()}}}),n("div",{staticClass:"complaint"},[n("div",{staticClass:"complaint_part"},[t._m(0),n("div",{staticClass:"complaint_part_problem"},t._l(t.pro_option,function(e,i){return n("span",{key:i,class:[1==e.is_active?"active_problem":""],on:{click:function(n){return t.pro_btn(e)}}},[t._v(t._s(e.title))])}),0),n("div",{staticClass:"complaint_part_description"},[n("p",[t._v("描述您的问题")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sub_form.message,expression:"sub_form.message"}],attrs:{name:"",rows:"3"},domProps:{value:t.sub_form.message},on:{input:function(e){e.target.composing||t.$set(t.sub_form,"message",e.target.value)}}}),n("span",[t._v(t._s(t.num)+"/200")])])]),n("div",{staticClass:"complaint_part"},[t._m(1),n("div",{staticClass:"complaint_part_upload"},[n("van-uploader",{attrs:{"after-read":t.afterRead,multiple:"","max-count":3,"preview-size":"100px"},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)]),n("div",{staticClass:"complaint_part",staticStyle:{"border-bottom":"none"}},[n("div",{staticClass:"complaint_part_item"},[n("div",{staticClass:"complaint_part_item_info"},[t._m(2),n("van-cell-group",{staticClass:"sc_con3_box_input fx_2",attrs:{border:!1}},[n("van-field",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"请输入",clearable:""},model:{value:t.sub_form.username,callback:function(e){t.$set(t.sub_form,"username",e)},expression:"sub_form.username"}})],1)],1)]),n("div",{staticClass:"complaint_part_item"},[n("div",{staticClass:"complaint_part_item_info"},[t._m(3),n("van-cell-group",{staticClass:"sc_con3_box_input fx_2",attrs:{border:!1}},[n("van-field",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"请输入",clearable:""},model:{value:t.sub_form.tel,callback:function(e){t.$set(t.sub_form,"tel",e)},expression:"sub_form.tel"}})],1)],1)])]),n("div",{staticClass:"complaint_btn",on:{click:t.sub_btn}},[t._v("\n            提交反馈\n        ")])])],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complaint_part_title"},[n("p",[n("span",[t._v("*")]),t._v("请描述您遇到的问题")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complaint_part_up_title"},[n("p",[t._v("上传凭证"),n("span",[t._v("(不超过3张)")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("span",[t._v("*")]),t._v("联系人")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("span",[t._v("*")]),t._v("联系方式")])}],a=n("9523"),r=n.n(a),u=(n("5f5f"),n("f253")),c=(n("be7f"),n("565f")),l={name:"complaint",data:function(){return{pro_option:[],num:0,image:[],sub_form:{tel:this.$store.state.user.tel,username:this.$store.state.user.nickname,reason:"",cardpositive:"",message:"",file_list:""}}},components:(i={},r()(i,c["a"].name,c["a"]),r()(i,u["a"].name,u["a"]),i),created:function(){this.get_pro_option()},methods:{get_pro_option:function(){var t=this;this.$api.getUser.get_complaint_pro().then(function(e){200==e.code&&e.result.forEach(function(e){var n={title:e,is_active:"0"};t.pro_option.push(n)})})},sub_btn:function(){var t=this,e={types:this.sub_form.reason,content:this.sub_form.message,piclink:this.sub_form.file_list,man:this.sub_form.username,tel:this.sub_form.tel};this.$api.getUser.submit_complaint(e).then(function(e){200==e.code?t.$toast.fail("已提交",1e3):t.$toast.fail(e.result)})},pro_btn:function(t){this.pro_option.forEach(function(t){t.is_active=0}),t.is_active=1,this.sub_form.reason=t.title},afterRead:function(t){var e=this;this.$fnc.imgCompress(t.content,function(t){e.sub_form.file_list=e.sub_form.file_list+t+"@"})}},computed:{getName:function(){return this.sub_form.message}},watch:{getName:function(t,e){this.num=t.length,t.length>200&&(this.sub_form.message=String(t).slice(0,200))}}},h=l,f=(n("7efb"),n("2877")),m=Object(f["a"])(h,s,o,!1,null,"373db7df",null);e["default"]=m.exports},"5f5f":function(t,e,n){"use strict";n("68ef"),n("a526")},"7efb":function(t,e,n){"use strict";var i=n("bcf6"),s=n.n(i);s.a},a526:function(t,e,n){},bcf6:function(t,e,n){},f253:function(t,e,n){"use strict";var i=n("1988"),s=n("d282"),o=n("1325"),a=n("1128");function r(t){return Array.isArray(t)?t.map(function(t){return r(t)}):"object"===typeof t?Object(a["a"])({},t):t}var u=n("1b10"),c=n("6aa9"),l=n("543e"),h=n("a142"),f=n("482d"),m=n("3875"),d=200,p=1e3,v=300,g=15,_=Object(s["a"])("picker-column"),b=_[0],x=_[1];function C(t){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform,i=n.slice(7,n.length-1).split(", ")[5];return Number(i)}function I(t){return Object(h["c"])(t)&&t.disabled}var y=b({mixins:[m["a"]],props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,visibleItemCount:Number,initialOptions:{type:Array,default:function(){return[]}}},data:function(){return{offset:0,duration:0,options:r(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(t){if(this.touchStart(t),this.moving){var e=C(this.$refs.wrapper);this.startOffset=Math.min(0,e)}else this.startOffset=this.offset;this.duration=0,this.moving=!1,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset},onTouchMove:function(t){Object(o["c"])(t),this.moving=!0,this.touchMove(t),this.offset=Object(f["a"])(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var e=Date.now();e-this.touchStartTime>v&&(this.touchStartTime=e,this.momentumOffset=this.offset)},onTouchEnd:function(){var t=this.offset-this.momentumOffset,e=Date.now()-this.touchStartTime,n=e<v&&Math.abs(t)>g;if(n)this.momentum(t,e);else if(this.offset!==this.startOffset){this.duration=d;var i=this.getIndexByOffset(this.offset);this.setIndex(i,!0)}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.duration=d,this.setIndex(t,!0)},adjustIndex:function(t){t=Object(f["a"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!I(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!I(this.options[n]))return n},getOptionText:function(t){return Object(h["c"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){var n=this;t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight;var i=function(){t!==n.currentIndex&&(n.currentIndex=t,e&&n.$emit("change",t))};this.moving?this.transitionEndTrigger=i:i()},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return Object(f["a"])(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,e){var n=Math.abs(t/e);t=this.offset+n/.002*(t<0?-1:1);var i=this.getIndexByOffset(t);this.duration=p,this.setIndex(i,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)}},render:function(t){var e=this,n=this.itemHeight,i=this.visibleItemCount,s=n*(i-1)/2,o={transform:"translate3d(0, "+(this.offset+s)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"all":"none",lineHeight:n+"px"},a={height:n+"px"};return t("div",{class:[x(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("ul",{ref:"wrapper",style:o,class:x("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.options.map(function(n,i){return t("li",{style:a,class:["van-ellipsis",x("item",{disabled:I(n),selected:i===e.currentIndex})],domProps:{innerHTML:e.getOptionText(n)},on:{click:function(){e.onClickItem(i)}}})})])])}}),O=Object(s["a"])("picker"),T=O[0],w=O[1],$=O[2];e["a"]=T({props:Object(i["a"])({},u["a"],{defaultIndex:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,n){t.setColumnValues(n,r(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})},onConfirm:function(){this.children.map(function(t){return t.stopMomentum()}),this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var e=this,n=this.itemHeight,i=n*this.visibleItemCount,s=this.simple?[this.columns]:this.columns,a={height:n+"px"},r={height:i+"px"},u={backgroundSize:"100% "+(i-n)/2+"px"},h=this.showToolbar&&t("div",{class:["van-hairline--top-bottom",w("toolbar")]},[this.slots()||[t("div",{attrs:{role:"button",tabindex:"0"},class:w("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||$("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",w("title")]},[this.title]),t("div",{attrs:{role:"button",tabindex:"0"},class:w("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||$("confirm")])]]);return t("div",{class:w()},["top"===this.toolbarPosition?h:t(),this.loading?t(l["a"],{class:w("loading"),attrs:{color:c["a"]}}):t(),t("div",{class:w("columns"),style:r,on:{touchmove:o["c"]}},[s.map(function(n,i){return t(y,{attrs:{valueKey:e.valueKey,className:n.className,itemHeight:e.itemHeight,defaultIndex:n.defaultIndex||e.defaultIndex,visibleItemCount:e.visibleItemCount,initialOptions:e.simple?n:n.values},on:{change:function(){e.onChange(i)}}})}),t("div",{class:w("mask"),style:u}),t("div",{class:["van-hairline--top-bottom",w("frame")],style:a})]),"bottom"===this.toolbarPosition?h:t()])}})}}]);